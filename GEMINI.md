# GEMINI.md - Tab Manager

## Project Overview
**Tab Manager** is a high-performance Chrome Extension (Manifest V3) designed for organizing and managing large volumes of browser tabs. It allows users to categorize tabs into hierarchical structures: **Spaces** (top-level), **Groups** (sub-categories), and **Tabs**.

### Core Technologies
- **Framework:** React 19 (TypeScript)
- **Styling:** Tailwind CSS 4.0 + PostCSS
- **Build Tool:** Vite + `@crxjs/vite-plugin` (handles extension manifest and HMR)
- **Storage:** Chrome Storage API (`chrome.storage.local`)
- **Icons:** SVG components via `vite-plugin-svgr`

### Architecture
The project follows a modular service-based architecture:
- **`src/pages/`**: Entry points for the Extension Popup and the full-page Dashboard.
- **`src/components/`**: Atomic and complex UI components, organized by domain (e.g., `dashboard/`).
- **`src/services/`**: Business logic layer (CRUD operations for Spaces, Groups, and Tabs).
- **`src/utils/`**: Helper utilities for storage abstraction, data import/export, and URL parsing.
- **`src/types/`**: Centralized TypeScript definitions for the data model and UI state.

---

## Building and Running

### Development
1. **Install dependencies:**
   ```bash
   pnpm install
   ```
2. **Start development server:**
   ```bash
   pnpm dev
   ```
3. **Load in Chrome:**
   - Go to `chrome://extensions/`.
   - Enable "Developer mode".
   - Click "Load unpacked" and select the `dist` directory (generated by Vite).

### Production
1. **Build the project:**
   ```bash
   pnpm run build
   ```
2. The production-ready files will be located in the `dist/` directory.

### Code Quality
- **Linting:** `pnpm run lint`

---

## Development Conventions

### Data Model
- **Hierarchy:** `Space` -> `Group[]` -> `Tab[]`.
- **Persistence:** All data is stored as a single JSON object in `chrome.storage.local` under the key `tab_manager_data`.
- **IDs:** Unique IDs are generated using a custom `generateId` utility (timestamp + random string).

### State Management
- Data is managed through asynchronous services in `src/services/`.
- UI components typically fetch data on mount and listen for storage changes using `onStorageChanged` in `src/utils/storage.ts` to stay in sync.

### UI & Styling
- **Components:** Functional components using React Hooks.
- **Tailwind:** Utility-first CSS. Note the project uses Tailwind v4 as indicated in `package.json`.
- **Icons:** Use the `vite-plugin-svgr` to import SVGs as React components.

### File Naming
- Components: PascalCase (e.g., `SpaceList.tsx`).
- Services/Utils: camelCase (e.g., `spaceService.ts`).
- Types: `index.ts` within the `types/` folder.

---

## Key Files & Directories
- `manifest.json`: Extension configuration (permissions, icons, entry points).
- `vite.config.ts`: Vite setup with CRXJS and path aliases (`@/`).
- `src/types/index.ts`: The "Source of Truth" for data structures.
- `src/utils/storage.ts`: Abstraction layer for Chrome Storage.
- `toby/`: Contains scripts for migrating data from Toby and TabMe.
